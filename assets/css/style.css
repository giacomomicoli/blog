/* ============================================
   YARB - Yet Another Random Blog
   Mobile-First Responsive Stylesheet
   ============================================ */

/* --- CSS CUSTOM PROPERTIES (Design Tokens) --- */
:root {
	/* Spacing System - 8pt Grid */
	--space-unit: 8px;
	--space-xs: calc(var(--space-unit) * 1);   /* 8px */
	--space-sm: calc(var(--space-unit) * 2);   /* 16px */
	--space-md: calc(var(--space-unit) * 3);   /* 24px */
	--space-lg: calc(var(--space-unit) * 4);   /* 32px */
	--space-xl: calc(var(--space-unit) * 6);   /* 48px */
	--space-2xl: calc(var(--space-unit) * 8);  /* 64px */

	/* Typography Scale (Mobile-first, based on 16px base) */
	--font-size-xs: 0.75rem;    /* 12px - Labels only */
	--font-size-sm: 0.875rem;   /* 14px - Secondary text */
	--font-size-base: 1rem;     /* 16px - Body text (WCAG minimum) */
	--font-size-md: 1.125rem;   /* 18px - Large body */
	--font-size-lg: 1.25rem;    /* 20px - Subheadings */
	--font-size-xl: 1.5rem;     /* 24px - Headings */
	--font-size-2xl: 1.75rem;   /* 28px - Large headings (mobile) */
	--font-size-3xl: 2rem;      /* 32px - Display (tablet+) */
	--font-size-4xl: 2.5rem;    /* 40px - Display (desktop) */

	/* Line Heights (1.4-1.6x for readability) */
	--line-height-tight: 1.25;
	--line-height-base: 1.5;
	--line-height-relaxed: 1.625;

	/* Colors - Preserving original palette */
	--primary-color: #3498db;
	--secondary-color: #2ecc71;
	--font-color: #d1d7e0;       /* Light text on dark bg: ~8:1 contrast ✓ */
	--font-color-muted: #9ca3af; /* Muted text: ~4.5:1 contrast ✓ */
	--a-color: #478be6;          /* Link color: ~4.8:1 contrast ✓ */
	--a-color-hover: #6ba3ed;
	--background-color: #212830;
	--surface-color: #2a323d;
	--border-color: #3a4553;

	/* Font Family - Preserving retro/nerdy aesthetic */
	--font-family: "Atkinson Hyperlegible Mono", monospace;

	/* Touch Target - Minimum 48px for accessibility */
	--touch-target-min: 48px;

	/* Transitions */
	--transition-fast: 150ms ease;
	--transition-base: 250ms cubic-bezier(0.4, 0.0, 0.2, 1);

	/* Container widths */
	--container-sm: 640px;
	--container-md: 768px;
	--container-lg: 1024px;
	--container-xl: 1200px;
}

/* --- CSS RESET & BASE --- */
*,
*::before,
*::after {
	box-sizing: border-box;
}

html {
	font-size: 100%; /* Respect user's browser font size */
	-webkit-text-size-adjust: 100%;
	text-size-adjust: 100%;
	scroll-behavior: smooth;
}

body {
	font-family: var(--font-family);
	font-size: var(--font-size-base);
	line-height: var(--line-height-base);
	margin: 0;
	padding: var(--space-sm);
	background-color: var(--background-color);
	color: var(--font-color);
	min-height: 100vh;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* --- LAYOUT CONTAINER --- */
body {
	max-width: var(--container-xl);
	margin-inline: auto;
}

/* --- TYPOGRAPHY --- */
h1, h2, h3, h4, h5, h6 {
	margin-block-start: 0;
	margin-block-end: var(--space-sm);
	line-height: var(--line-height-tight);
	font-weight: 700;
}

h1 {
	font-size: var(--font-size-2xl);
	margin-block-end: var(--space-md);
}

h2 {
	font-size: var(--font-size-xl);
}

h3 {
	font-size: var(--font-size-lg);
}

p {
	margin-block: var(--space-sm);
}

/* --- LINKS --- */
a {
	color: var(--a-color);
	text-decoration: underline;
	text-underline-offset: 2px;
	transition: color var(--transition-fast);
}

a:hover,
a:focus {
	color: var(--a-color-hover);
	text-decoration-thickness: 2px;
}

a:focus-visible {
	outline: 2px solid var(--a-color);
	outline-offset: 2px;
	border-radius: 2px;
}

/* --- HEADER --- */
header {
	padding-block: var(--space-sm);
	margin-block-end: var(--space-md);
	border-bottom: 1px solid var(--border-color);
}

.h1-replacement {
	font-size: var(--font-size-lg);
	font-weight: 700;
	margin-block: 0;
	display: block;
	line-height: var(--line-height-tight);
}

/* --- MAIN CONTENT --- */
main {
	padding-block: var(--space-sm);
}

/* --- POST PREVIEW (Index Page) --- */
.post-preview {
	padding: var(--space-md);
	margin-block-end: var(--space-md);
	background-color: var(--surface-color);
	border-radius: var(--space-xs);
	border: 1px solid var(--border-color);
}

.post-preview header {
	padding: 0;
	margin-block-end: var(--space-sm);
	border-bottom: none;
}

.post-preview h2 {
	font-size: var(--font-size-lg);
	margin-block-end: var(--space-xs);
}

.post-preview h2 a {
	text-decoration: none;
}

.post-preview h2 a:hover,
.post-preview h2 a:focus {
	text-decoration: underline;
}

.post-preview time {
	font-size: var(--font-size-sm);
	color: var(--font-color-muted);
	display: block;
}

.post-preview .excerpt {
	font-size: var(--font-size-base);
	line-height: var(--line-height-relaxed);
	color: var(--font-color);
	margin-block: var(--space-sm);
}

.post-preview footer {
	padding-block-start: var(--space-sm);
}

.post-preview footer a {
	display: inline-flex;
	align-items: center;
	min-height: var(--touch-target-min);
	padding: var(--space-xs) var(--space-sm);
	font-size: var(--font-size-base);
	font-weight: 600;
	text-decoration: none;
	background-color: var(--a-color);
	color: var(--background-color);
	border-radius: var(--space-xs);
	transition: background-color var(--transition-base);
}

.post-preview footer a:hover,
.post-preview footer a:focus {
	background-color: var(--a-color-hover);
	color: var(--background-color);
}

/* --- POST PAGE --- */
.post-header {
	margin-block-end: var(--space-md);
}

.post-header h1 {
	font-size: var(--font-size-2xl);
	margin-block-end: var(--space-sm);
	word-wrap: break-word;
	overflow-wrap: break-word;
	hyphens: auto;
}

.backhome {
	display: inline-flex;
	align-items: center;
	min-height: var(--touch-target-min);
	font-size: var(--font-size-base);
	margin-block: var(--space-sm);
	padding: var(--space-xs) 0;
}

.post-meta {
	font-size: var(--font-size-sm);
	color: var(--font-color-muted);
	margin-block-start: var(--space-sm);
}

.post-meta time {
	display: block;
	margin-block-end: var(--space-xs);
}

.byline {
	display: block;
}

/* --- POST HERO IMAGE --- */
.post-hero {
	margin: var(--space-md) 0;
	padding: 0;
}

.post-hero img {
	display: block;
	width: 100%;
	height: auto;
	border-radius: var(--space-xs);
	object-fit: cover;
	max-height: 300px;
}

/* --- POST BODY CONTENT --- */
.post-body {
	font-size: var(--font-size-base);
	line-height: var(--line-height-relaxed);
}

.post-body h2 {
	font-size: var(--font-size-xl);
	margin-block-start: var(--space-lg);
	margin-block-end: var(--space-sm);
}

.post-body h3 {
	font-size: var(--font-size-lg);
	margin-block-start: var(--space-md);
	margin-block-end: var(--space-sm);
}

.post-body p {
	margin-block: var(--space-sm);
}

.post-body ul,
.post-body ol {
	padding-inline-start: var(--space-md);
	margin-block: var(--space-sm);
}

.post-body li {
	margin-block-end: var(--space-xs);
}

.post-body img {
	max-width: 100%;
	height: auto;
	border-radius: var(--space-xs);
	margin-block: var(--space-sm);
}

.post-body blockquote {
	margin: var(--space-md) 0;
	padding: var(--space-sm) var(--space-md);
	border-left: 4px solid var(--a-color);
	background-color: var(--surface-color);
	font-style: italic;
}

.post-body pre,
.post-body code {
	font-family: var(--font-family);
	font-size: var(--font-size-sm);
	background-color: var(--surface-color);
	border-radius: 4px;
}

.post-body code {
	padding: 2px 6px;
}

.post-body pre {
	padding: var(--space-sm);
	overflow-x: auto;
	-webkit-overflow-scrolling: touch;
}

.post-body pre code {
	padding: 0;
	background: none;
}

/* --- FOOTER --- */
footer {
	padding-block: var(--space-md);
	margin-block-start: var(--space-lg);
	border-top: 1px solid var(--border-color);
	font-size: var(--font-size-sm);
	color: var(--font-color-muted);
}

/* ============================================
   TABLET BREAKPOINT (≥768px)
   ============================================ */
@media screen and (min-width: 768px) {
	body {
		padding: var(--space-md);
	}

	h1 {
		font-size: var(--font-size-3xl);
	}

	.h1-replacement {
		font-size: var(--font-size-xl);
	}

	.post-preview {
		padding: var(--space-lg);
	}

	.post-preview h2 {
		font-size: var(--font-size-xl);
	}

	.post-header h1 {
		font-size: var(--font-size-3xl);
	}

	.post-hero img {
		max-height: 400px;
	}

	.post-body {
		font-size: var(--font-size-md);
	}

	.post-body h2 {
		font-size: var(--font-size-2xl);
	}

	.post-body h3 {
		font-size: var(--font-size-xl);
	}

	.post-meta time,
	.post-meta .byline {
		display: inline;
	}

	.post-meta time::after {
		content: " · ";
	}
}

/* ============================================
   DESKTOP BREAKPOINT (≥1024px)
   ============================================ */
@media screen and (min-width: 1024px) {
	body {
		padding: var(--space-lg);
	}

	h1 {
		font-size: var(--font-size-4xl);
	}

	.h1-replacement {
		font-size: var(--font-size-2xl);
	}

	main {
		padding-block: var(--space-md);
	}

	.post-preview {
		padding: var(--space-xl);
	}

	.post-preview h2 {
		font-size: var(--font-size-2xl);
	}

	.post-header h1 {
		font-size: var(--font-size-4xl);
	}

	.post-hero img {
		max-height: 500px;
	}

	.post-body {
		max-width: var(--container-md);
	}
}

/* ============================================
   LARGE DESKTOP (≥1280px)
   ============================================ */
@media screen and (min-width: 1280px) {
	body {
		padding: var(--space-xl);
	}
}

/* ============================================
   ACCESSIBILITY & REDUCED MOTION
   ============================================ */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
	:root {
		--border-color: var(--font-color);
	}

	a:focus-visible {
		outline-width: 3px;
	}
}

/* Print Styles */
@media print {
	body {
		background-color: white;
		color: black;
	}

	.backhome,
	footer {
		display: none;
	}

	a {
		color: black;
		text-decoration: underline;
	}

	.post-hero img {
		max-height: none;
	}
}
